# Mapping: Anforderungen zu Implementierung (FinanceManager)

Dieses Dokument zeigt, wie die Anforderungen aus dem Anforderungskatalog im aktuellen Code umgesetzt sind. Es dient als Übersicht für den Projektstand und zur Identifikation offener Punkte.

| Nr.              | Status | Anforderung (Kurzbeschreibung)                                          | Implementierung im Code / Stand                                                                                                                                                 |
|------------------|--------|-------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| FA-KTO-001       | ✔      | Beliebig viele Bankkonten anlegen                                       | AccountService, AccountsController, UI                                                                                                                                          |
| FA-KTO-002       | ✔      | Kontotyp (Giro/Spar)                                                    | AccountService, Domain.AccountType Enum                                                                                                                                         |
| FA-KTO-003       | ✔      | Automatische Bankkontakt-Anlage                                         | AccountService, ContactService                                                                                                                                                  |
| FA-KTO-004       | ✖      | Konto teilen mit anderen Benutzern                                      | (Teilen-Logik noch offen)                                                                                                                                                       |
| FA-AUSZ-001      | ✔      | Kontoauszugdateien einlesen (CSV, PDF)                                  | StatementDraftService, FileReader                                                                                                                                                |
| FA-AUSZ-002      | ✔      | Für jeden Import wird ein Buch.-Blatt erzeugt                           | StatementDraftService, Domain.StatementDraft                                                                                                                                    |
| FA-AUSZ-003      | ✔      | Buch.-Blatt Einträge bearbeiten, ergänzen, löschen                      | StatementDraftService, UI (Detail + Editiermodus); Archivierungs-Flag für Sparpläne                                                                                             |
| FA-AUSZ-004      | ✔      | Beim Buchen entstehen Bankposten                                        | StatementDraftService.BookAsync → `PostingKind.Bank`                                                                                                                            |
| FA-AUSZ-005      | ✔      | Duplikatserkennung beim Import                                          | StatementDraftService: Duplikatprüfung                                                                                                                                          |
| FA-AUSZ-006      | ✔      | Kostenneutral bei eigenen Kontakten                                     | StatementDraftService: Status-/CostNeutral-Logik                                                                                                                                |
| FA-AUSZ-007      | ✔      | Kontaktposten beim Buchen entstehen                                     | StatementDraftService.BookAsync → `PostingKind.Contact`                                                                                                                         |
| FA-AUSZ-008      | ✔      | Empfänger muss Kontakt zugeordnet werden                                | StatementDraftService, UI                                                                                                                                                       |
| FA-AUSZ-009      | ~      | Wertpapierzuordnung bei eigener Bank                                    | UI & API; PDF-Detailimport (ING) erweitert; Depot-/Positionslogik offen                                                                                                         |
| FA-AUSZ-010      | ✔      | PDF-Parsing mit Tabellenextraktion                                      | ING_StatementFileReader, Barclays_StatementFileReader, erweiterbar                                                                                                              |
| FA-AUSZ-011      | ✔      | Import-Pipeline mit Format-Strategie                                    | StatementDraftService, Reader-Interface                                                                                                                                         |
| FA-AUSZ-012      | ✔      | Anzeige Gesamtbetrag verknüpfter Aufteilungs-Auszüge im Eintrag         | StatementDraftsController GetEntry; EntryDetail UI                                                                                                                              |
| FA-AUSZ-013      | ~      | Status offen bei Zahlungsintermediär bis vollständig gesplittet         | TryAutoAssignContact; fehlende Gesamtaggregation über alle verknüpften Splits offen                                                                                             |
| FA-AUSZ-014      | ✔      | Originaldatei speichern & Download / Inline-Ansicht                     | StatementDraft.OriginalFileContent; `/file` Endpoint; Viewer                                                                                                                    |
| FA-AUSZ-015      | ✔      | Massenbuchung Kontoauszüge                                              | BackgroundTask BookingTaskExecutor + Manager; `/api/statement-drafts/book-all`; Fortschritt UI                                                                                  |
| FA-AUSZ-016      | (∑)    | Konfigurierbare Monatsbasierte Aufteilung                               | Siehe Unterpunkte -01..-12 / NFA -01..-04                                                                                                                                        |
| FA-AUSZ-016-01   | ✔      | Konfigurationsbereich Setup                                             | `SetupImportSplitTab.razor`                                                                                                                                                     |
| FA-AUSZ-016-02   | ✔      | Einstellbare Werte                                                      | DTO `ImportSplitSettingsDto`, Controller, Migration                                                                                                                             |
| FA-AUSZ-016-03   | ✔      | Default-Werte neue Benutzer                                             | Defaults im `User`                                                                                                                                                              |
| FA-AUSZ-016-04   | ✔      | Berücksichtigung Benutzereinstellungen                                  | Split-Algorithmus (Monthly / Fixed / Hybrid)                                                                                                                                    |
| FA-AUSZ-016-05   | ✔      | Validierung                                                             | UI + API + Domain (`User.SetImportSplitSettings`)                                                                                                                               |
| FA-AUSZ-016-06   | ✔      | Logging                                                                 | Info-Log `CreateDraftAsync`                                                                                                                                                     |
| FA-AUSZ-016-07   | ✖      | UI-Hinweis nach Import                                                  | Offener Notification/Result DTO                                                                                                                                                |
| FA-AUSZ-016-08   | ✔      | Fallback Defaults                                                       | Bei fehlender UserSettings                                                                                                                                                      |
| FA-AUSZ-016-09   | ✔      | Performance                                                             | Ein Pass + Sort (O(n log n))                                                                                                                                                    |
| FA-AUSZ-016-10   | ✔      | Reihenfolge Drafts / Entries                                            | Sortierung BookingDate / Subject                                                                                                                                                |
| FA-AUSZ-016-11   | ✔      | Aufteilungskontoauszüge berücksichtigt                                  | UploadId-Gruppierung                                                                                                                                                            |
| FA-AUSZ-016-12   | ✔      | Mindestanzahl Einträge Merge                                            | `ApplyMonthlyMinMerge` + Tests                                                                                                                                                  |
| FA-AUSZ-017      | ✔      | Persistenter Navigationskontext                                         | Query Parameter, Weitergabe                                                                                                                                                     |
| FA-UI-001        | ~      | Suchfeld in Listen                                                      | Kontakte + Merge; andere Listen offen                                                                                                                                           |
| FA-UI-002        | ~      | Live-Filterung                                                          | Debounce Kontakte                                                                                                                                                               |
| FA-UI-003        | ✔      | Einheitliches Menüband                                                  | `Ribbon.razor` + Seiten migriert + Basis-A11y                                                                                                                                   |
| FA-REP-006       | ✔      | Umsatz‑Auswertungsgraphen                                               | BarChart + Endpoints Accounts/Contacts/Savings/Securities + Home KPI                                                                                                           |
| FA-REP-006-01    | ✔      | Summe Beträge pro Intervall (Bar-Chart)                                 | `PostingTimeSeriesService` (Aggregates)                                                                                                                                         |
| FA-REP-006-02    | ✔      | Intervalle: Monat, Quartal, Halbjahr, Jahr                              | Alle vier Intervalle                                                                                                                                                            |
| FA-REP-006-03    | ✔      | Standardintervall Monat                                                 | Default = Month                                                                                                                                                                 |
| FA-REP-006-04    | ✔      | Leere Perioden optional (weggelassen)                                   | Nur vorhandene Perioden                                                                                                                                                          |
| FA-REP-006-05    | ✔      | Negative Werte nach unten                                               | Geteilte Chart-Hälfte                                                                                                                                                            |
| FA-REP-006-06    | ✔      | Tooltip mit Zeitraum + Betrag                                           | title + aria-label                                                                                                                                                               |
| FA-REP-006-07    | ✔      | Aggregation nach BookingDate                                            | PostingAggregates Basis                                                                                                                                                          |
| FA-REP-006-08    | ✔      | Zeitraumbegrenzung (MaxYearsBack)                                       | Query-Parameter `maxYearsBack` (Controller), Service-Filter (PeriodStart >= Grenze), UI `AggregateBarChart.MaxYearsBack`                                                         |
| FA-REP-006-09    | ✔      | Einheitlicher API-Parameter period                                      | Einheitlich `period`                                                                                                                                                              |
| FA-REP-006-10    | ✔      | Wechsel Intervall -> Reload (Spinner)                                   | Overlay + Skeleton Initial Load                                                                                                                                                  |
| NFA-REP-006-01   | ✔      | Performance (leichte DOM-Struktur)                                      | Leichte Div-Struktur                                                                                                                                                             |
| NFA-REP-006-02   | ✔      | Responsives Layout / Overflow                                           | Flex Layout (gleichmäßige Verteilung, keine Scrollbar), adaptive Label-Ausdünnung, keine Überlappung in KPI-Kacheln                                                             |
| NFA-REP-006-03   | ✔      | Lokalisierte Formate                                                    | Kulturabhängige Tooltip- und Achsen-Labels (Monate abgekürzt, Jahr nur falls nötig, Q/H mit optionalem Jahr), Tooltips lokalisiert                                               |
| NFA-REP-006-04   | ✔      | Wiederverwendbare Komponente                                            | `AggregateBarChart`                                                                                                                                                              |
| NFA-REP-006-05   | ✔      | Accessibility (ARIA Label pro Balken)                                   | aria-label je Balken                                                                                                                                                             |
| NFA-AUSZ-016-01  | ✔      | Serverseitige User-Konfiguration                                        | User-Entität erweitert                                                                                                                                                          |
| NFA-AUSZ-016-02  | ✖      | Erweiterbar für künftige Strategien                                     | Strategy/Resolver offen                                                                                                                                                         |
| NFA-AUSZ-016-03  | ✔      | Unit Tests Splitalgorithmus                                             | Alle Modi                                                                                                                                                                       |
| NFA-AUSZ-016-04  | ~      | O(n) Laufzeit bestätigt                                                 | Messung ausstehend                                                                                                                                                              |
| FA-REP-008       | ✔      | Berichtsdashboard konfigurierbare Aggregationen                         | ReportDashboard + Aggregation + Favoriten; Entitätstyp-Multi-Gruppierung, Kategorie‑Totals, Drilldown, Vergleiche, Mini‑Chart, YTD                                             |
| FA-REP-008-01    | ✔      | Auswahl Postenart                                                       | Dropdown PostingKind (ReportDashboard)                                                                                                                                          |
| FA-REP-008-02    | ✔      | Gruppierung nach Entitätstyp (Multi)                                    | Multi‑Selection UI (PostingKinds), Service aggregiert Type‑Ebene (`Type:` Knoten) inkl. Category/Entity Drilldown                                                               |
| FA-REP-008-03    | ✔      | Sekundäre Gruppierung Kategorie                                         | IncludeCategory + Category Totals + Child Rows                                                                                                                                  |
| FA-REP-008-04    | ✔      | Expandierbare Entitätszeilen                                            | Kategorie-Drilldown (Toggle, aria-expanded)                                                                                                                                     |
| FA-REP-008-05    | ✔      | Periodenwahl inkl. YTD                                                  | Interval Select (Month/Quarter/HalfYear/Year/Ytd)                                                                                                                               |
| FA-REP-008-06    | ✔      | Vergleich Vorperiode optional                                           | ComparePrevious → PreviousAmount                                                                                                                                                 |
| FA-REP-008-07    | ✔      | Vergleich Vorjahreszeitraum optional                                    | CompareYear → YearAgoAmount                                                                                                                                                     |
| FA-REP-008-08    | ✔      | Optionales Balkendiagramm                                               | Mini-Chart (ShowChart)                                                                                                                                                          |
| FA-REP-008-09    | ✔      | YTD Balkendarstellung (Vorjahre)                                        | YTD Transform + YearAgo                                                                                                                                                         |
| FA-REP-008-10    | ✔      | Bericht als Favorit speichern                                           | POST `/api/report-favorites` + Dialog                                                                                                                                           |
| FA-REP-008-11    | ✔      | Favoriten laden & anwenden                                              | GET Liste + ApplyFavorite                                                                                                                                                       |
| FA-REP-008-12    | ✔      | Favoriten umbenennen / löschen                                          | PUT / DELETE Favorites                                                                                                                                                          |
| FA-REP-008-13    | ✔      | Analysedatum monatsweise einstellbar (Referenzmonat)                    | `ReportAggregationQuery.AnalysisDate`, Controller/Service angepasst, UI Month‑Picker                                                                                            |
| FA-REP-008-14    | ✔      | Entitätswertfilter: UI (Single‑Kind Basis)                              | ReportDashboard: Multi‑Select für Top‑Level Filter (entweder Kategorie‑IDs oder Entitäts‑IDs je nach Modus); Dialog + Anwendung im Report                                      |
| FA-REP-008-15    | ✔      | Entitätswertfilter: Aggregation + API                                   | Implementiert: `ReportAggregatesController` akzeptiert Filter, `ReportAggregationQuery`/DTOs erweitert, `ReportAggregationService` filtert Top‑Level (Kategorie/Entität) vor Aggregation. Tests vorhanden. |
| FA-REP-008-16    | ✔      | Entitätswertfilter: Multi‑Kind Support                                  | Implementiert: Separate Allow‑Lists pro `PostingKind`, Kombination mit `IncludeCategory` berücksichtigt (Bank ohne Kategorien), Kantenfälle behandelt. UI Tabs/Scroll, Service aggregiert `Type:` + Kinder. Tests vorhanden. |
| FA-REP-008-17    | ✔      | Entitätswertfilter in Favoriten speichern                               | `ReportFavorite` + Service/Controller um Filter‑Felder erweitert; UI sendet `Filters` bei Save/Update; Persistenz in DB (CSV‑Felder)                                            |
| FA-REP-008-18    | ✔      | Entitätswertfilter aus Favoriten anwenden                               | `ApplyFavorite` setzt `_selectedFilterIds` anhand gespeicherter Filter; UI/Query aktualisiert                                                                                   |
| FA-REP-008-19    | ✖      | UX: Aktive‑Filter‑Badges + Schnell‑Löschen                              | Anzeige aktive Filter (Chips) oberhalb Ergebnis; Clear‑All / Einzeln entfernen; i18n + A11y                                                                                    |
| NFA-REP-008-01   | ✖      | Performance (Serveraggregation, Paging/Virtualization)                  | Kein Paging / Virtual Scroll                                                                                                                                                    |
| NFA-REP-008-02   | ✖      | Caching                                                                 | Kein Cache Layer                                                                                                                                                                |
| NFA-REP-008-03   | ✔      | Security (User-Scope Favoriten)                                         | OwnerUserId-Filter in Service/Controller                                                                                                                                        |
| NFA-REP-008-04   | ✔      | Accessibility (ARIA für Expand/Chart)                                   | aria-expanded, aria-label Chart                                                                                                                                                 |
| NFA-REP-008-05   | ~      | Internationalisierung                                                   | Beträge/Strings lokalisiert; Interval Enum-Werte roh                                                                                                                            |
| NFA-REP-008-06   | ✖      | Persistente UI-Einstellungen (letzte Auswahl)                           | Nur Favoriten, kein Autosave Filter                                                                                                                                            |
| NFA-REP-008-07   | ✖      | Export-Vorbereitung DTO                                                 | Offen                                                                                                                                                                           |
| NFA-REP-008-08   | ✖      | Performance: Filterung auf DB‑Ebene                                     | Vorfilterung in Aggregates‑Abfrage; Indizes prüfen/ergänzen; Messungen + ggf. Paging                                                                                           |
| FA-BACK-001      | ✔      | Backup erstellen                                                        | BackupService + Controller + UI                                                                                                                                                  |
| FA-BACK-002      | ✔      | Backups auflisten & herunterladen                                       | BackupService.List / OpenDownload + UI                                                                                                                                           |
| FA-BACK-003      | ✔      | Backup hochladen                                                        | Upload Endpoint + Service                                                                                                                                                        |
| FA-BACK-004      | ✔      | Backup wiederherstellen (asynchron)                                     | BackgroundTaskManager + Executor + Panel                                                                                                                                         |
| FA-BACK-005      | ✔      | Backup löschen                                                          | Delete Endpoint + Service + UI                                                                                                                                                   |
| FA-KON-001       | ✔      | Kontakte verwalten (CRUD)                                               | ContactService, ContactsController, UI                                                                                                                                            |
| FA-KON-002       | ✔      | Kontakte können Kategorie zugeordnet werden                             | ContactService, UI                                                                                                                                                               |
| FA-KON-003       | ✔      | Anwender als Kontakt angelegt                                           | Initialisierung / ContactService                                                                                                                                                 |
| FA-KON-004       | ✔      | Aliasnamen mit Wildcards pflegen                                        | Alias-Management + Matching                                                                                                                                                      |
| FA-KON-005       | ✔      | Kontakte verschmelzen (Merge)                                           | MergeAsync + Dialog + Controller                                                                                                                                                 |
| FA-AUTO-001      | ✔      | Aliasnamen für automatische Kontaktzuordnung                            | StatementDraftService Alias-Matching                                                                                                                                             |
| FA-AUTO-002      | ✔      | Duplikate werden ausgelassen                                            | Duplikatprüfung im Import                                                                                                                                                        |
| FA-SPAR-001      | ✔      | Sparpläne verwalten (CRUD)                                              | SavingsPlanService + Controller + UI                                                                                                                                             |
| FA-SPAR-002      | ✔      | Sparplan-Typen                                                          | Enum SavingsPlanType                                                                                                                                                             |
| FA-SPAR-003      | ~      | Wiederkehrende Intervalle                                               | Teilweise (Fälligkeitsshift)                                                                                                                                                     |
| FA-SPAR-004      | ✖      | Automatische Sparplanvorschläge                                         | Offen                                                                                                                                                                            |
| FA-SPAR-005      | ✖      | Manuelle Änderung Sparplanvorschlag                                     | Offen                                                                                                                                                                            |
| FA-SPAR-006      | ~      | Statusanzeige Sparziel erreicht                                         | AnalyzeAsync Grundfunktionen; Hinweise teilweise                                                                                                                                 |
| FA-SPAR-007      | ✖      | Anzeige fehlender Buchungen zum Ziel                                    | Offen                                                                                                                                                                            |
| FA-SPAR-008      | ✔      | Prognose Zielverfehlung                                                 | AnalyzeAsync (Durchschnitt vs. Soll)                                                                                                                                             |
| FA-SPAR-009      | ✔      | Archivierung bei Ausbuchung                                             | Auto-Archiv bei Saldo 0                                                                                                                                                          |
| FA-SPAR-010      | ✖      | Sparplan aus Rückzahlung/Kredit                                         | Offen                                                                                                                                                                            |
| FA-SPAR-011      | ✔      | Sparplanposten bei Buchung                                              | PostingKind.SavingsPlan                                                                                                                                                          |
| FA-SPAR-012      | ✖      | Umschalten aktive/archivierte Sparpläne                                 | Offen                                                                                                                                                                            |
| FA-WERT-001      | ✔      | Wertpapiere verwalten                                                   | SecurityService + Controller + UI                                                                                                                                                |
| FA-WERT-002      | ~      | Wertpapiertransaktionen                                                 | Teilweise (Import/Buchung); Positionslogik offen                                                                                                                                 |
| FA-WERT-003      | ✔      | Wertpapierposten bei Buchung                                            | PostingKind.Security                                                                                                                                                             |
| FA-WERT-004      | ~      | Kursabruf AlphaVantage API                                              | SecurityPriceWorker (Rate-Limit Handling)                                                                                                                                        |
| FA-WERT-005      | ~      | Historische Kurse nachholen                                             | Backfill + inkrementell                                                                                                                                                          |
| FA-WERT-006      | ✔      | API-Limit erkennen/beachten                                             | Note/Information Handling + Backoff                                                                                                                                              |
| FA-WERT-007      | ✔      | Speicherung Kursposten                                                  | SecurityPrice Entity + Unique Index                                                                                                                                              |
| FA-WERT-008      | ✖      | Renditeberechnung                                                       | Offen                                                                                                                                                                            |
| FA-WERT-009      | ✔      | Kursliste im UI (Infinite Scroll)                                       | `SecurityPrices.razor`                                                                                                                                                           |
| FA-REP-001       | ✖      | Buchungsaggregation (Monat, Quartal, Jahr)                              | Offen (wird teilweise durch FA-REP-008 abgedeckt)                                                                                                                                |
| FA-REP-002       | ✖      | Year-To-Date Berechnung                                                 | Offen (in FA-REP-008 vorgesehen)                                                                                                                                                 |
| FA-REP-003       | ✖      | Vergleich mit Vorjahr                                                   | Offen (in FA-REP-008 vorgesehen)                                                                                                                                                 |
| FA-REP-004       | ✖      | GuV pro Monat/Kategorie                                                 | Offen (Kategorie-Gruppierung in FA-REP-008 Ansatz)                                                                                                                               |
| FA-REP-005       | ✖      | Renditekennzahlen Wertpapiere                                           | Offen                                                                                                                                                                            |
| FA-REP-006       | ✔      | Umsatz‑Auswertungsgraphen für alle Entitäten mit Postings               | (Siehe Sub-Items)                                                                                                                                                               |
| FA-REP-007       | ✖      | Export von Postenlisten (CSV & Excel)                                   | Offen                                                                                                                                                                            |
| FA-KPI-001       | ✖      | Dividenden aktueller Monat                                              | Offen                                                                                                                                                                            |
| FA-KPI-002       | ✖      | Dividenden aktuelles Jahr                                               | Offen                                                                                                                                                                            |
| FA-KPI-003       | ~      | Einnahmen/Ausgaben pro Monat                                            | BarChart (All-Accounts Aggregation)                                                                                                                                              |
| FA-KPI-004       | ✖      | Gesamtdepotrendite aktuelles Jahr                                       | Offen                                                                                                                                                                            |
| FA-KPI-005       | ✖      | KPI-Fallback Jahresanfang                                               | Offen                                                                                                                                                                            |
| FA-KPI-006      | ~       | Quartalsdividenden Übersicht                                            | Endpoint `/api/securities/dividends`, KPI-Kachel                                                                                                                                 |
| FA-KPI-007       | ✔      | Favoritenberichte als Home‑KPIs (Editiermodus + Dialog + Darstellung)   | Startseite: Editiermodus mit dynamischem KPI‑Hinzufügen über Plus‑Platzhalter; Dialog bietet vordefinierte KPIs oder Berichtsfavoriten; Anzeigeoptionen: (a) nur aktueller Gesamtbetrag, (b) Gesamtbetrag + Vergleichswerte als Balken, (c) Berichtsgrafik. Klick auf KPI öffnet Bericht (Ansichtmodus). Löschen eines Favoriten löscht zugehörige KPIs. Tests stellen Lösch‑Kaskade sicher. |
| FA-API-001       | ✔      | Web API für alle Entitäten                                              | Controller (Accounts, Contacts, Statements, Securities, etc.)                                                                                                                    |
| FA-API-002       | ~      | Suchkriterien für API                                                   | Kontakte: type + q; weitere Entitäten partiell                                                                                                                                   |
| FA-API-003       | ✔      | Authentifizierung & Autorisierung                                       | JWT + `[Authorize]`                                                                                                                                                              |
| FA-API-004       | ~      | Rate Limiting/Caching Kursabfragen                                      | Worker-seitig (AlphaVantage) – Gateway-Limit offen                                                                                                                               |
| FA-AUTH-001      | ✔      | Anmeldung erforderlich                                                  | JWT Auth Pipeline                                                                                                                                                                |
| FA-AUTH-002      | ✔      | JWT-Token bei Anmeldung                                                 | JwtBearer                                                                                                                                                                        |
| FA-AUTH-003      | ✔      | Token im Authorization Header                                           | JwtBearer                                                                                                                                                                        |
| FA-AUTH-004      | ✔      | Datenzugriff auf Benutzer gescoped                                      | Services & Controller filtern nach UserId                                                                                                                                        |
| FA-AUTH-005      | ✖      | Konto teilen mit Benutzer                                               | Offen                                                                                                                                                                            |
| FA-AUTH-006      | ✖      | Schreibrechte konfigurierbar                                            | Offen                                                                                                                                                                            |
| FA-AUTH-007      | ✖      | Entzug von Freigaben                                                    | Offen                                                                                                                                                                            |
| FA-AUTH-008      | ✔      | Passworthashing                                                         | PBKDF2 (Ziel Argon2id/bcrypt)                                                                                                                                                    |
| FA-AUTH-009      | ✔      | Admin-Oberfläche Benutzerverwaltung                                     | AdminUsersController + `Users.razor`                                                                                                                                             |
| FA-AUTH-010      | ✖      | Erster Benutzer = Admin                                                 | Offen                                                                                                                                                                            |
| FA-AUTH-011      | ✔      | Admin kann Benutzer bearbeiten/löschen                                  | Update/Delete Endpoints + UI                                                                                                                                                     |
| FA-AUTH-012      | ✖      | Löschen entfernt private Daten                                          | Offen                                                                                                                                                                            |
| FA-AUTH-013      | ✔      | Admin kann Sperren aufheben                                             | Unlock Endpoint + UI                                                                                                                                                            |
| FA-I18N-001      | ✔      | UI-Texte in Deutsch/Englisch                                            | Ressourcen + Localizer                                                                                                                                                           |
| FA-I18N-002      | ✖      | Sprache im Profil einstellen                                            | Offen                                                                                                                                                                            |
| FA-I18N-003      | ✔      | Fallback auf Browser/Systemsprache                                      | RequestLocalizationOptions                                                                                                                                                       |
| FA-I18N-004      | ✔      | Texte über Resource-Dateien verwaltet                                   | Resx-Konzept                                                                                                                                                                     |
| FA-I18N-005      | ✖      | Sprachwechsel ohne Neuanmeldung                                         | Offen                                                                                                                                                                            |
| FA-I18N-006      | ✔      | Datums-/Zahlen-/Währungsformate                                         | CultureInfo-Konfiguration                                                                                                                                                        |
| NFA-PERF-001     | ~      | Import Performance                                                      | Noch nicht validiert                                                                                                                                                             |
| NFA-PERF-002     | ~      | KPI Performance                                                         | Noch nicht validiert                                                                                                                                                             |
| NFA-SEC-001      | ✔      | Endpunkte geschützt                                                     | `[Authorize]` + JWT                                                                                                                                                              |
| NFA-SEC-002      | ✔      | Idempotenz bei Verbuchung                                               | Duplikatprüfung beim Import/Buchen                                                                                                                                               |
| NFA-SEC-003      | ✔      | Access Scope Enforcement                                                | UserId-Scoping durchgängig                                                                                                                                                       |
| NFA-SEC-004      | ✖      | Passwort-Hashing (Argon2id/bcrypt)                                      | Ziel noch offen (aktuell PBKDF2)                                                                                                                                                 |
| NFA-SEC-005      | ✖      | Token-Lebensdauer/Refresh-Token                                         | Offen                                                                                                                                                                            |
| NFA-SEC-006      | ✖      | Audit Logging sicherheitsrelevanter Aktionen                            | Offen                                                                                                                                                                            |
| NFA-SEC-007      | ✖      | Login-Sperre nach Fehlversuchen                                         | Offen                                                                                                                                                                            |
| NFA-SEC-008      | ✖      | Admin-Audit Logging                                                     | Offen                                                                                                                                                                            |
| NFA-REL-001      | ✔      | Fehler beim Kursabruf blockiert Hauptfunktionen nicht                   | Fehlerhandling Worker                                                                                                                                                            |
| NFA-REL-002      | ✔      | Langläufer im Hintergrund mit Fortschritt (Restore)                     | BackgroundTaskManager + Executor + Panel                                                                                                                                         |
| NFA-REL-003      | ✔      | Einheitliche Background-Task Queue                                      | TaskRunner + Executors + UI Panel                                                                                                                                                |
| NFA-USAB-001     | ~      | Responsive UI                                                           | Teilweise optimiert                                                                                                                                                              |
| NFA-USAB-002     | ✔      | Einheitliche Aktions‑Symbole via Sprite                                 | `wwwroot/icons/sprite.svg`                                                                                                                                                      |
| NFA-USAB-003     | ✖      | Bestätigungsdialoge kritische Aktionen + globale Abschalt-Option        | Konzept offen                                                                                                                                                                    |
| NFA-ARCH-001     | ✔      | Trennung Domäne/Präsentation                                            | Layered Architecture                                                                                                                                                             |
| NFA-LOG-001      | ✔      | Zentrales Logging                                                       | Serilog Pipeline                                                                                                                                                                |
| NFA-I18N-001     | ✔      | Zwei Sprachen, Fallback                                                 | de/en + Fallback                                                                                                                                                                 |
| NFA-DATA-001     | ✖      | Zeitreihen effizient gespeichert                                        | Optimierte Speicherung/Aggregationen offen                                                                                                                                       |
| NFA-PRIV-001     | ✔      | Lokale Speicherung, keine Weitergabe                                    | Keine externe Weitergabe                                                                                                                                                         |

**Legende:**  
✔ = umgesetzt / vorhanden  
✖ = offen / noch nicht implementiert  
~ = teilweise umgesetzt / in Arbeit  
(∑) = Sammelanforderung (Gesamtstatus aus Unterpunkten)

+Änderungen (27.09.2025) – Ergänzung 22:
 - Neue Anforderung FA-KPI-007 hinzugefügt: Favoritenberichte als Home‑KPIs inkl. Editiermodus, Plus‑Platzhalter, Auswahl‑Dialog (vordefinierte KPIs oder Berichtsfavoriten), Anzeigeoptionen (Total/Total+Vergleiche/Berichtsgrafik), Navigation zum Bericht in Ansichtmodus, Lösch‑Kaskade bei Favoriten, Tests.
+- FA-REP-008-15 auf ✔ gesetzt: Filterung in Aggregation + API umgesetzt. Service filtert Kategorie-/Entitäts‑Top‑Level vor Aggregation; Controller nimmt Filter entgegen. Test hinzugefügt: `ReportAggregationServiceTests.QueryAsync_ShouldApplyEntityFilters_ForTwoKinds_WithTwoSelectedValuesEach` (zwei Buchungsarten, je zwei Filterwerte).  
+- FA-REP-008-16 auf ✔ gesetzt: Multi‑Kind Filter voll unterstützt (separate Listen pro PostingKind). UI: Filter‑Dialog Tabs + Scroll; Child‑Rows Fix für Konten im Multi‑Mode (Fallback, falls `ParentGroupKey` fehlt).  
 - FA-REP-008-14 auf ✔: UI für Entitätswertfilter (Single‑Kind) vollständig, inkl. Dialog und Anwendung im Report.  
 - FA-REP-008-17 auf ✔: Filter werden im Favoriten gespeichert (Domain `ReportFavorite` erweitert um Filter‑CSV, Service/Controller/DTO angepasst).  
 - FA-REP-008-18 auf ✔: Gespeicherte Filter werden beim Laden eines Favoriten angewendet (`ApplyFavorite`).  
 - Favoriten-Dialog bereinigt: Keine Auswahl der Buchungsarten beim Speichern eines Favoriten.  
 - UX: Beim normalen Speichern wird der Editiermodus verlassen.  
 - Technisch: Datenbankschema für Favoriten um Filter-Felder erweitert (Migration ausstehend/erforderlich).  
 - FA-KPI-007 auf ✔ gesetzt: Umsetzung vollständig (Favoriten- und vordefinierte KPIs hinzufügen, bearbeiten, Reihenfolge anpassen, Navigation; Persistenz inkl. Lösch‑Kaskade; UI lokalisiert).

Änderungen (26.09.2025) – Ergänzung 21:  
- Neue Teilanforderungen FA-REP-008-14..19 (Entitätswertfilter UI, API/Service, Multi-Kind, Persistenz in Favoriten, Anwendung + UX). Status jeweils ✖.  
- NFA-REP-008-08 ergänzt (Performance: Filterung auf DB‑Ebene).  

Änderungen (26.09.2025) – Ergänzung 20:  
- FA-REP-008-02 auf ✔ gesetzt (Entitätstyp‑Multi‑Gruppierung).  
- FA-REP-008 Gesamtstatus auf ✔ aktualisiert.  

Änderungen (26.09.2025) – Ergänzung 19:  
- Analysedatum (monatsweise) eingeführt: API (`ReportAggregationQuery.AnalysisDate`, `ReportAggregatesController`), Service‑Logik (`ReportAggregationService`: Anchoring für Latest‑Periode, Vorperiode/Vorjahr, YTD‑Cutoff, `Take`‑Trimming) und UI (`ReportDashboard`: Month‑Picker mit Vor-/Zurück‑Buttons).  
- Labels lokalisiert (de/en).  

Änderungen (26.09.2025) – Ergänzung 18:  
- Berichtsdashboard umgesetzt: Favoriten CRUD (`ReportFavoritesController`, `ReportFavoriteService`), Aggregation (`ReportAggregationService`, `/api/report-aggregates`), UI `ReportDashboard.razor` (Filter, Kategorie-Gruppierung, Drilldown, Vergleiche, Mini-Chart, YTD).  
- FA-REP-008 Gesamtstatus auf ~ (ein Unterpunkt offen: 008-02).  
- FA-REP-008 Unterpunkte 01,03–12 auf ✔ gesetzt; 02 bleibt ✖.  
- NFA-REP-008-03 auf ✔ (User-Scope durch OwnerUserId), NFA-REP-008-04 auf ✔ (ARIA), NFA-REP-008-05 auf ~ (teilweise Lokalisierung), übrige NFA weiterhin ✖.  

Änderungen (25.09.2025) – Ergänzung 17:  
- NFA-REP-006-03 von ~ auf ✔ gesetzt: Kulturabhängige Achsen-Labels (Monate abgekürzt, Jahr nur falls nötig, Q/H mit optionalem Jahr), Tooltips lokalisiert.

Änderungen (25.09.2025) – Ergänzung 16:
- NFA-REP-006-02 von ~ auf ✔ gesetzt: Flexbasiertes AutoFit Layout ohne horizontales Scrollen, gleichmäßige Balkenbreite, Label-Ausdünnung integriert.
- NFA-REP-006-03 weiter ~: Tooltips nun lokalisiert (Datum & Betrag gemäß Culture), Achsenlabels weiterhin vereinfachtes Muster (`yy-M` / `yy-Q#`).

Änderungen (24.09.2025) – Ergänzung 15:
- FA-REP-006-08 auf ✔ gesetzt: Zeitraumbegrenzung implementiert (`maxYearsBack` Query, Service-Filter, UI-Parameter `MaxYearsBack` in `AggregateBarChart`).  

Änderungen (24.09.2025) – Ergänzung 14:
- FA-REP-006-10 von ~ auf ✔ gesetzt: Intervallwechsel zeigt jetzt Overlay-Spinner (`chart-loading-overlay`) und initialer Skeleton-Load implementiert.

Änderungen (22.09.2025) – Ergänzung 13:
- Reporting erweitert: Aggregierte Endpoints für alle Konten (`/api/accounts/aggregates`), alle Sparpläne (`/api/savings-plans/aggregates`) und Quartalsdividenden (`/api/securities/dividends`).
- Home KPI-Grid (Schachbrett) mit drei Graph-Kacheln (Alle Konten 7M, Monatssparen 7M, Quartalsdividenden Vorjahr→aktuell) hinzugefügt.
- `AggregateBarChart`: Optionaler Parameter `Take` jetzt weglassbar (liefert komplette Reihe), zusätzliche Parameter `HideIntervalSelector`, `InitialPeriod` für kompakte KPIs.
- Quartalsdarstellung: Labels von `yy-M` auf `yy-Q#` umgestellt.
- Neuer KPI-Eintrag FA-KPI-006 (Quartalsdividenden) auf Status `~` gesetzt.
- FA-REP-006 Beschreibung aktualisiert (Erweiterung um *all*-Aggregationen). Zeitraumbegrenzung (FA-REP-006-08) weiterhin offen.

Änderungen (21.09.2025) – Ergänzung 12:
- Reporting erweitert: Reusable `AggregateBarChart`, zusätzliche Report-Controller (Contact, SavingsPlan, Security), HalfYear-Intervall hinzugefügt, Accessibility (aria-label) implementiert. Status-Updates für FA-REP-006 Sub-Items (01,02,06,07,09 auf ✔; 10 weiterhin ~; NFA-REP-006-04 & -05 auf ✔). Zeitfensterbegrenzung (006-08) weiter offen.

Änderungen (21.09.2025) – Ergänzung 11:
- FA-REP-006 hinzugefügt / detailliert in Unterpunkte FA-REP-006-01..10 sowie NFA-REP-006-01..05; Gesamtstatus ~ (Teil-Implementierung nur Account, ohne HalfYear & Wiederverwendungskomponente).

Änderungen (21.09.2025) – Ergänzung 10:
- FA-AUSZ-016-12 von ✖ auf ✔ gesetzt: Min-Entries Merge-Algorithmus (`ApplyMonthlyMinMerge`) implementiert; UI & User-Settings erweitert; Tests ergänzt.

Änderungen (21.09.2025) – Ergänzung 9:
- FA-UI-003 auf ✔ gesetzt; alle priorisierten Seiten migriert (inkl. Sparpläne, Kategorien, Kategorie-Detail, Postings*, StatementDrafts*, Users/Admin, Home); Einzelabruf Kategorie hinzugefügt; Ribbon Kategorien-Link in Sparpläne-Übersicht.
Änderungen (21.09.2025) – Ergänzung 8:
- FA-UI-003 Beschreibung erweitert (explizites `aria-disabled`, ARIA Roles, Pfeiltasten-Navigation, Tests hinzugefügt).

Änderungen (20.09.2025) – Ergänzung 7:
- FA-UI-003 Status von ✖ auf ~ geändert; Beschreibung aktualisiert (Ribbon-Komponente eingeführt, weitere Seiten & Accessibility offen).

Änderungen (20.09.2025) – Ergänzung 6:
- Neu: FA-UI-003 (Einheitliches Menüband für Aktionsbuttons) → ✖.

Änderungen (20.09.2025) – Ergänzung 5:
- Neu: FA-AUSZ-017 hinzugefügt (Persistenter Navigationskontext Entry ↔ verknüpfte Drafts) → ✔.
- FA-AUSZ-013 Beschreibung präzisiert (fehlende Gesamtaggregation über alle Split-Drafts noch offen) → Status weiterhin ~.

(Frühere Änderungsnotizen siehe vorherige Versionen.)